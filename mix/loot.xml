<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE loot [
	<!ELEMENT loot (lootset+)>
	<!ELEMENT lootset (filter|colors|oneof|someof)+>
	<!ELEMENT filter EMPTY>
	<!ELEMENT colors (#PCDATA)>
	<!ELEMENT oneof (#PCDATA)>
	<!ELEMENT someof (#PCDATA)>
	<!ATTLIST lootset
		target CDATA #REQUIRED
		type CDATA #REQUIRED
		final CDATA #IMPLIED
	>
	<!ATTLIST filter
		key CDATA #REQUIRED
		value CDATA #REQUIRED
	>
	<!ATTLIST oneof
		color CDATA #IMPLIED
	>
	<!ATTLIST someof
		min CDATA #REQUIRED
		max CDATA #REQUIRED
	>
]>
<!--
for sets:
* "directitem" -> item with that ID
* "@token" -> any random item with that token
* "@tokenA+tokenB" -> any random item with those tokens
* "@tokenA-tokenB" -> any random item with tokenA but NOT tokenB
* "@tokenA+tokenB-tokenC" -> any random item with tokenA and B but not C
* "@-token" -> any random item AT ALL that does not have that token
separate with "," result is trimmed.
-->
<loot>
	<lootset target="container" type="dungeon_chest">
		<!-- Contains: ONE small weapon, large weapon, or rare weapon, TWO to FIVE food items, and ONE to THREE potions, all random. -->
		<oneof>@smallweapon, @largeweapon, @rareweapon</oneof>
		<someof min="2" max="5">@food</someof>
		<someof min="1" max="3">@potion</someof>
	</lootset>
	<lootset target="vendor" type="stock">
		<filter key="vendorclass" value="baker" />
		<someof min="10" max="10">@baked</someof>
	</lootset>
	<lootset target="vendor" type="stock">
		<filter key="vendorclass" value="butcher" />
		<someof min="10" max="10">@meat</someof>
	</lootset>
	<lootset target="vendor" type="stock">
		<filter key="vendorclass" value="clothier" />
		<someof min="10" max="10">@clothing-joke</someof>
	</lootset>
	<lootset target="vendor" type="stock">
		<filter key="vendorclass" value="armorer" />
		<someof min="10" max="10">@armor-joke</someof>
	</lootset>
	<!--
	<lootset target="vendor" type="stock">
		<filter key="vendorclass" value="greengrocer" />
		<someof min="10" max="10">@fruit</someof>
	</lootset>
	-->
	
	<lootset target="npc" type="food">
		<someof min="2" max="8">@food</someof>
	</lootset>

	<!-- Armanents -->
	<lootset target="npc" type="arms">
		<filter key="board" value="wild" />
		<filter key="culture" value="seradevar" />
		<!-- either a small or large blade. -->
		<oneof>@smallweapon+blade-rareweapon, @largeweapon+blade-rareweapon</oneof>
	</lootset>
	<lootset target="npc" type="arms">
		<filter key="gender" value="!female" />
		<oneof>@smallweapon+blade-rareweapon</oneof>
	</lootset>
	<lootset target="npc" type="arms">
		<filter key="board" value="town" />
		<filter key="gender" value="female" />
		<oneof>combat_knife</oneof>
	</lootset>
	
	<!-- Base costumes -->
	<lootset target="npc" type="clothing">
		<filter key="gender" value="female" />
		<oneof color="1">shirt, blouse</oneof>
		<oneof color="2">pants, skirt</oneof>
	</lootset>
	<lootset target="npc" type="clothing">
		<filter key="gender" value="female" />
		<oneof>elegant_dress, sundress</oneof>
	</lootset>
	<lootset target="npc" type="clothing">
		<filter key="gender" value="female" />
		<oneof>girls_uniform_top</oneof>
		<oneof>pleated_skirt</oneof>
	</lootset>
	<lootset target="npc" type="clothing">
		<filter key="gender" value="!female" />
		<oneof color="1">shirt, blouse</oneof>
		<oneof color="2">pants</oneof>
	</lootset>
	<lootset target="npc" type="clothing">
		<filter key="gender" value="!female" />
		<oneof>boys_uniform_top</oneof>
		<oneof>pants</oneof>
	</lootset>

	<!-- Underwear -->
	<lootset target="npc" type="underwear">
		<filter key="gender" value="female" />
		<oneof>plain_panties</oneof>
		<oneof>plain_bra</oneof>
	</lootset>
	<lootset target="npc" type="underwear">
		<filter key="gender" value="female" />
		<oneof>lacy_panties</oneof>
		<oneof>lacy_bra</oneof>
	</lootset>
	<lootset target="npc" type="underwear">
		<filter key="gender" value="!female" />
		<oneof>plain_briefs, plain_boxers</oneof>
	</lootset>
</loot>
